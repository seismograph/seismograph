var input=data.slice(1),output={0:["Black","Asian","White","Hispanic","Other"]},setNums=function(a){return a?parseInt(a,10):null},buildOther=function(a,e){for(var b=0,n=0,r=e;e+4>r;r++)a[r]=setNums(a[r]),"number"==typeof a[r]&&(b+=a[r],n+=1);return b?Math.round(b/n):null},abbrvIfState=function(a){var e=a.toUpperCase(),b=[{name:"Alabama",abbrev:"AL"},{name:"Alaska",abbrev:"AK"},{name:"District of Columbia",abbrev:"DC"},{name:"Arizona",abbrev:"AZ"},{name:"Arkansas",abbrev:"AR"},{name:"California",abbrev:"CA"},{name:"Colorado",abbrev:"CO"},{name:"Connecticut",abbrev:"CT"},{name:"Delaware",abbrev:"DE"},{name:"Florida",abbrev:"FL"},{name:"Georgia",abbrev:"GA"},{name:"Hawaii",abbrev:"HI"},{name:"Idaho",abbrev:"ID"},{name:"Illinois",abbrev:"IL"},{name:"Indiana",abbrev:"IN"},{name:"Iowa",abbrev:"IA"},{name:"Kansas",abbrev:"KS"},{name:"Kentucky",abbrev:"KY"},{name:"Louisiana",abbrev:"LA"},{name:"Maine",abbrev:"ME"},{name:"Maryland",abbrev:"MD"},{name:"Massachusetts",abbrev:"MA"},{name:"Michigan",abbrev:"MI"},{name:"Minnesota",abbrev:"MN"},{name:"Mississippi",abbrev:"MS"},{name:"Missouri",abbrev:"MO"},{name:"Montana",abbrev:"MT"},{name:"Nebraska",abbrev:"NE"},{name:"Nevada",abbrev:"NV"},{name:"New Hampshire",abbrev:"NH"},{name:"New Jersey",abbrev:"NJ"},{name:"New Mexico",abbrev:"NM"},{name:"New York",abbrev:"NY"},{name:"North Carolina",abbrev:"NC"},{name:"North Dakota",abbrev:"ND"},{name:"Ohio",abbrev:"OH"},{name:"Oklahoma",abbrev:"OK"},{name:"Oregon",abbrev:"OR"},{name:"Pennsylvania",abbrev:"PA"},{name:"Rhode Island",abbrev:"RI"},{name:"South Carolina",abbrev:"SC"},{name:"South Dakota",abbrev:"SD"},{name:"Tennessee",abbrev:"TN"},{name:"Texas",abbrev:"TX"},{name:"Utah",abbrev:"UT"},{name:"Vermont",abbrev:"VT"},{name:"Virginia",abbrev:"VA"},{name:"Washington",abbrev:"WA"},{name:"West Virginia",abbrev:"WV"},{name:"Wisconsin",abbrev:"WI"},{name:"Wyoming",abbrev:"WY"}],n=a;return _.each(b,function(a){return a.name.toUpperCase()==e?(n=a.abbrev,!1):void 0}),n};_.each(input,function(a){var e=a.length>20?setNums(a[19]+a[20]):setNums(_.last(a));a[6]=buildOther(a,6),a[15]=buildOther(a,15),output[e]={title:abbrvIfState(a[0]),popData:{total:setNums(a[1]),subPops:[setNums(a[2]),setNums(a[3]),setNums(a[4]),setNums(a[5]),a[6]]},incomeData:{total:setNums(a[10]),subPops:[setNums(a[11]),setNums(a[12]),setNums(a[13]),setNums(a[14]),a[15]]}}});