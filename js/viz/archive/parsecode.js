var VIZ=function(e){return e.singlePeople=function(){function e(e,n,a){if(e)return console.warn(e);for(var t=n.data,r=[],o=1;o<t.length;o++){for(var s,d,c=t[o],i=c[0]-c[1]-c[2]-c[3]-c[4]-c[10],p=c[5]-c[6]-c[7]-c[8]-c[9]-c[10],f=i+p,l=i-(2*parseInt(c[11])+parseInt(c[12])+parseInt(c[14])),u=p-(2*parseInt(c[13])+parseInt(c[12])+parseInt(c[14])),g=l+u,I=+(c[15]+c[16]),v=0;v<a.length;v++)if(a[v].id==I){s=a[v].name;break}for(var h=0;h<a.length;h++)if(a[h].id==1e3*Math.round(I/1e3)){d=a[h].name;break}r.push({total:f,cTotal:g,percentMen:i/f*100,cPercentMen:l/g*100,percentWomen:p/f*100,cPercentWomen:u/g*100,id:c[15]+c[16],county:s,state:d})}var m={singlesData:r},w="text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(m));$('<a href="data:'+w+'" download="data.json">download JSON</a>').appendTo(".canvas")}queue().defer(d3.json,"../data/single-percentage/raw-data-sm.json").defer(d3.tsv,"../data/single-percentage/county-names.tsv").await(e)},e}(VIZ||{});